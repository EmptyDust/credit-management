# åŒåˆ›åˆ†ç”³è¯·å¹³å° - å‰ç«¯

è¿™æ˜¯åŒåˆ›åˆ†ç”³è¯·å¹³å°çš„å‰ç«¯åº”ç”¨ï¼ŒåŸºäº React 18 + TypeScript + Tailwind CSS æ„å»ºã€‚

## åŠŸèƒ½ç‰¹æ€§

### ğŸ¯ æ ¸å¿ƒåŠŸèƒ½

- **ç”¨æˆ·è®¤è¯**: ç™»å½•ã€æ³¨å†Œã€JWT token ç®¡ç†ã€æƒé™æ§åˆ¶
- **ä»ªè¡¨æ¿**: ç³»ç»Ÿæ¦‚è§ˆã€ç»Ÿè®¡æ•°æ®ã€æœ€è¿‘æ´»åŠ¨ã€å¿«é€Ÿæ“ä½œ
- **æ´»åŠ¨ç®¡ç†**: åˆ›å»ºæ´»åŠ¨ã€ç¼–è¾‘æ´»åŠ¨ã€æäº¤å®¡æ ¸ã€å®¡æ ¸æ´»åŠ¨ã€æ‰¹é‡æ“ä½œã€å¯¼å…¥å¯¼å‡º
- **å‚ä¸è€…ç®¡ç†**: æ·»åŠ å‚ä¸è€…ã€è®¾ç½®å­¦åˆ†ã€æ‰¹é‡æ“ä½œã€é€€å‡ºæ´»åŠ¨
- **ç”³è¯·ç®¡ç†**: æŸ¥çœ‹ç”³è¯·åˆ—è¡¨ã€ç”³è¯·è¯¦æƒ…ã€ç”³è¯·ç»Ÿè®¡ã€å¯¼å‡ºç”³è¯·æ•°æ®
- **é™„ä»¶ç®¡ç†**: ä¸Šä¼ é™„ä»¶ã€æ‰¹é‡ä¸Šä¼ ã€é¢„è§ˆä¸‹è½½ã€ç®¡ç†é™„ä»¶
- **ç”¨æˆ·ç®¡ç†**: å­¦ç”Ÿä¿¡æ¯ CRUDã€æ•™å¸ˆä¿¡æ¯ç®¡ç†ã€æœç´¢ç­›é€‰ã€æ‰¹é‡æ“ä½œ
- **æœç´¢åŠŸèƒ½**: é«˜çº§æœç´¢æ´»åŠ¨ã€ç”³è¯·ã€å‚ä¸è€…ã€é™„ä»¶
- **ä¸ªäººèµ„æ–™**: ç”¨æˆ·ä¿¡æ¯ç®¡ç†ã€å¯†ç ä¿®æ”¹

### ğŸ¨ ç”¨æˆ·ä½“éªŒ

- **å“åº”å¼è®¾è®¡**: æ”¯æŒæ¡Œé¢ç«¯å’Œç§»åŠ¨ç«¯
- **ç°ä»£åŒ– UI**: åŸºäº shadcn/ui ç»„ä»¶åº“
- **æ·±è‰²æ¨¡å¼**: æ”¯æŒä¸»é¢˜åˆ‡æ¢
- **å®æ—¶é€šçŸ¥**: Toast é€šçŸ¥ç³»ç»Ÿ
- **åŠ è½½çŠ¶æ€**: ä¼˜é›…çš„åŠ è½½åŠ¨ç”»
- **é”™è¯¯å¤„ç†**: å‹å¥½çš„é”™è¯¯æç¤º

### ğŸ” æƒé™æ§åˆ¶

- **è§’è‰²æƒé™**: å­¦ç”Ÿã€æ•™å¸ˆã€ç®¡ç†å‘˜ä¸åŒæƒé™
- **è·¯ç”±ä¿æŠ¤**: åŸºäºæƒé™çš„é¡µé¢è®¿é—®æ§åˆ¶
- **API æ‹¦æˆª**: è‡ªåŠ¨ token ç®¡ç†å’Œé”™è¯¯å¤„ç†

## æŠ€æœ¯æ ˆ

- **æ¡†æ¶**: React 18 + TypeScript
- **æ„å»ºå·¥å…·**: Vite
- **æ ·å¼**: Tailwind CSS
- **ç»„ä»¶åº“**: shadcn/ui
- **è·¯ç”±**: React Router DOM
- **çŠ¶æ€ç®¡ç†**: React Context
- **è¡¨å•**: React Hook Form + Zod
- **HTTP å®¢æˆ·ç«¯**: Axios
- **é€šçŸ¥**: React Hot Toast
- **å›¾æ ‡**: Lucide React

## å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Node.js 18+
- pnpm (æ¨è) æˆ– npm

### å®‰è£…ä¾èµ–

```bash
cd frontend
pnpm install
```

### å¼€å‘æ¨¡å¼

```bash
pnpm dev
```

è®¿é—® http://localhost:3000

### æ„å»ºç”Ÿäº§ç‰ˆæœ¬

```bash
pnpm build
```

### é¢„è§ˆç”Ÿäº§ç‰ˆæœ¬

```bash
pnpm preview
```

## é¡¹ç›®ç»“æ„

```
src/
â”œâ”€â”€ components/          # ç»„ä»¶
â”‚   â”œâ”€â”€ ui/             # UIç»„ä»¶åº“
â”‚   â”œâ”€â”€ Layout.tsx      # å¸ƒå±€ç»„ä»¶
â”‚   â”œâ”€â”€ ProtectedRoute.tsx # è·¯ç”±ä¿æŠ¤
â”‚   â””â”€â”€ ThemeToggle.tsx # ä¸»é¢˜åˆ‡æ¢
â”œâ”€â”€ contexts/           # ä¸Šä¸‹æ–‡
â”‚   â”œâ”€â”€ AuthContext.tsx # è®¤è¯ä¸Šä¸‹æ–‡
â”‚   â””â”€â”€ ThemeContext.tsx # ä¸»é¢˜ä¸Šä¸‹æ–‡
â”œâ”€â”€ lib/                # å·¥å…·åº“
â”‚   â”œâ”€â”€ api.ts          # APIå®¢æˆ·ç«¯
â”‚   â””â”€â”€ utils.ts        # å·¥å…·å‡½æ•°
â”œâ”€â”€ pages/              # é¡µé¢ç»„ä»¶
â”‚   â”œâ”€â”€ Dashboard.tsx   # ä»ªè¡¨æ¿
â”‚   â”œâ”€â”€ Login.tsx       # ç™»å½•
â”‚   â”œâ”€â”€ Register.tsx    # æ³¨å†Œ
â”‚   â”œâ”€â”€ Applications.tsx # ç”³è¯·ç®¡ç†
â”‚   â”œâ”€â”€ Affairs.tsx     # äº‹åŠ¡ç®¡ç†
â”‚   â”œâ”€â”€ Students.tsx    # å­¦ç”Ÿç®¡ç†
â”‚   â”œâ”€â”€ Teachers.tsx    # æ•™å¸ˆç®¡ç†
â”‚   â””â”€â”€ Profile.tsx     # ä¸ªäººèµ„æ–™
â”œâ”€â”€ App.tsx             # åº”ç”¨å…¥å£
â””â”€â”€ main.tsx            # ä¸»å…¥å£
```

## é¡µé¢åŠŸèƒ½

### ç™»å½•é¡µé¢ (`/login`)

- ç”¨æˆ·å/å¯†ç ç™»å½•
- è¡¨å•éªŒè¯
- é”™è¯¯æç¤º
- JWT token ç®¡ç†

### æ³¨å†Œé¡µé¢ (`/register`)

- ç”¨æˆ·æ³¨å†Œ
- è§’è‰²é€‰æ‹©ï¼ˆå­¦ç”Ÿ/æ•™å¸ˆï¼‰
- è¡¨å•éªŒè¯
- å¯†ç å¼ºåº¦æ£€æŸ¥

### ä»ªè¡¨æ¿ (`/dashboard`)

- ç³»ç»Ÿç»Ÿè®¡æ¦‚è§ˆ
- ç”¨æˆ·ç»Ÿè®¡å¡ç‰‡
- æ´»åŠ¨ç»Ÿè®¡
- ç”³è¯·ç»Ÿè®¡
- æœ€è¿‘æ´»åŠ¨
- å¿«é€Ÿæ“ä½œ

### æ´»åŠ¨ç®¡ç† (`/activities`)

- æ´»åŠ¨åˆ—è¡¨å±•ç¤ºï¼ˆæ”¯æŒåˆ†é¡µï¼‰
- çŠ¶æ€ç­›é€‰ï¼ˆdraft/pending_review/approved/rejectedï¼‰
- ç±»åˆ«ç­›é€‰
- æœç´¢åŠŸèƒ½
- åˆ›å»ºæ´»åŠ¨ï¼ˆæ”¯æŒæ¨¡æ¿ï¼‰
- ç¼–è¾‘æ´»åŠ¨ï¼ˆä»…è‰ç¨¿çŠ¶æ€ï¼‰
- æäº¤å®¡æ ¸
- æ’¤å›æ´»åŠ¨
- å®¡æ ¸æ´»åŠ¨ï¼ˆæ•™å¸ˆ/ç®¡ç†å‘˜ï¼‰
- æ‰¹é‡æ“ä½œï¼ˆæ‰¹é‡åˆ›å»ºã€æ›´æ–°ã€åˆ é™¤ï¼‰
- å¯¼å…¥å¯¼å‡ºï¼ˆCSV/Excelï¼‰
- æ´»åŠ¨è¯¦æƒ…æŸ¥çœ‹

### æ´»åŠ¨è¯¦æƒ… (`/activities/:id`)

- æ´»åŠ¨åŸºæœ¬ä¿¡æ¯å±•ç¤º
- å‚ä¸è€…ç®¡ç†
- é™„ä»¶ç®¡ç†
- å®¡æ ¸æ“ä½œï¼ˆæ•™å¸ˆ/ç®¡ç†å‘˜ï¼‰
- æ´»åŠ¨ç»Ÿè®¡

### ç”³è¯·ç®¡ç† (`/applications`)

- ç”³è¯·åˆ—è¡¨å±•ç¤ºï¼ˆå­¦ç”Ÿåªçœ‹è‡ªå·±çš„ï¼Œæ•™å¸ˆ/ç®¡ç†å‘˜çœ‹å…¨éƒ¨ï¼‰
- çŠ¶æ€ç­›é€‰
- æœç´¢åŠŸèƒ½
- ç”³è¯·è¯¦æƒ…æŸ¥çœ‹
- ç”³è¯·ç»Ÿè®¡
- å¯¼å‡ºç”³è¯·æ•°æ®

### å­¦ç”Ÿç®¡ç† (`/students`)

- å­¦ç”Ÿä¿¡æ¯åˆ—è¡¨ï¼ˆæ”¯æŒåˆ†é¡µï¼‰
- æœç´¢å’Œç­›é€‰ï¼ˆæŒ‰å§“åã€ç”¨æˆ·åã€å­¦å·ã€å­¦éƒ¨ã€ä¸“ä¸šç­‰ï¼‰
- ä¿¡æ¯ç¼–è¾‘
- æ‰¹é‡æ“ä½œï¼ˆæ‰¹é‡åˆ é™¤ã€æ‰¹é‡æ›´æ–°çŠ¶æ€ï¼‰
- å­¦ç”Ÿç»Ÿè®¡

### æ•™å¸ˆç®¡ç† (`/teachers`)

- æ•™å¸ˆä¿¡æ¯åˆ—è¡¨ï¼ˆæ”¯æŒåˆ†é¡µï¼‰
- æœç´¢å’Œç­›é€‰
- éƒ¨é—¨ç®¡ç†
- èŒç§°ç®¡ç†
- çŠ¶æ€ç®¡ç†
- æ•™å¸ˆç»Ÿè®¡

## API é›†æˆ

### è®¤è¯ç›¸å…³

- `POST /api/auth/login` - ç”¨æˆ·ç™»å½•
- `POST /api/auth/logout` - ç”¨æˆ·ç™»å‡º
- `POST /api/users/register` - ç”¨æˆ·æ³¨å†Œ

### æ´»åŠ¨ç®¡ç†

- `GET /api/activities` - è·å–æ´»åŠ¨åˆ—è¡¨ï¼ˆæ”¯æŒåˆ†é¡µã€æœç´¢ã€ç­›é€‰ï¼‰
- `POST /api/activities` - åˆ›å»ºæ´»åŠ¨
- `GET /api/activities/:id` - è·å–æ´»åŠ¨è¯¦æƒ…
- `PUT /api/activities/:id` - æ›´æ–°æ´»åŠ¨
- `DELETE /api/activities/:id` - åˆ é™¤æ´»åŠ¨
- `POST /api/activities/:id/submit` - æäº¤æ´»åŠ¨å®¡æ ¸
- `POST /api/activities/:id/withdraw` - æ’¤å›æ´»åŠ¨
- `POST /api/activities/:id/review` - å®¡æ ¸æ´»åŠ¨
- `POST /api/activities/:id/copy` - å¤åˆ¶æ´»åŠ¨
- `GET /api/activities/categories` - è·å–æ´»åŠ¨ç±»åˆ«
- `GET /api/activities/templates` - è·å–æ´»åŠ¨æ¨¡æ¿

### å‚ä¸è€…ç®¡ç†

- `GET /api/activities/:id/participants` - è·å–å‚ä¸è€…åˆ—è¡¨
- `POST /api/activities/:id/participants` - æ·»åŠ å‚ä¸è€…
- `PUT /api/activities/:id/participants/:uuid/credits` - è®¾ç½®å•ä¸ªå­¦åˆ†
- `PUT /api/activities/:id/participants/batch-credits` - æ‰¹é‡è®¾ç½®å­¦åˆ†
- `DELETE /api/activities/:id/participants/:uuid` - åˆ é™¤å‚ä¸è€…
- `POST /api/activities/:id/participants/batch-remove` - æ‰¹é‡åˆ é™¤å‚ä¸è€…
- `POST /api/activities/:id/leave` - é€€å‡ºæ´»åŠ¨ï¼ˆä»…å­¦ç”Ÿï¼‰
- `GET /api/activities/:id/participants/stats` - è·å–å‚ä¸è€…ç»Ÿè®¡
- `GET /api/activities/:id/participants/export` - å¯¼å‡ºå‚ä¸è€…åˆ—è¡¨

### ç”³è¯·ç®¡ç†

- `GET /api/applications` - è·å–ç”¨æˆ·ç”³è¯·åˆ—è¡¨
- `GET /api/applications/:id` - è·å–ç”³è¯·è¯¦æƒ…
- `GET /api/applications/all` - è·å–æ‰€æœ‰ç”³è¯·ï¼ˆæ•™å¸ˆ/ç®¡ç†å‘˜ï¼‰
- `GET /api/applications/stats` - è·å–ç”³è¯·ç»Ÿè®¡
- `GET /api/applications/export` - å¯¼å‡ºç”³è¯·æ•°æ®

### é™„ä»¶ç®¡ç†

- `GET /api/activities/:id/attachments` - è·å–é™„ä»¶åˆ—è¡¨
- `POST /api/activities/:id/attachments` - ä¸Šä¼ é™„ä»¶
- `POST /api/activities/:id/attachments/batch` - æ‰¹é‡ä¸Šä¼ é™„ä»¶
- `GET /api/activities/:id/attachments/:attachment_id/download` - ä¸‹è½½é™„ä»¶
- `GET /api/activities/:id/attachments/:attachment_id/preview` - é¢„è§ˆé™„ä»¶
- `PUT /api/activities/:id/attachments/:attachment_id` - æ›´æ–°é™„ä»¶ä¿¡æ¯
- `DELETE /api/activities/:id/attachments/:attachment_id` - åˆ é™¤é™„ä»¶

## æƒé™ç³»ç»Ÿ

### å­¦ç”Ÿæƒé™

- åˆ›å»ºå’Œç¼–è¾‘è‡ªå·±çš„æ´»åŠ¨
- æäº¤å’Œæ’¤å›æ´»åŠ¨å®¡æ ¸
- æŸ¥çœ‹è‡ªå·±çš„ç”³è¯·
- å¯¼å‡ºè‡ªå·±çš„ç”³è¯·æ•°æ®
- å‚ä¸æ´»åŠ¨ï¼ˆé€šè¿‡è¢«æ·»åŠ ï¼‰
- é€€å‡ºæ´»åŠ¨
- ä¸Šä¼ é™„ä»¶ï¼ˆä»…åœ¨è‡ªå·±åˆ›å»ºçš„æ´»åŠ¨ï¼‰
- æŸ¥çœ‹ä¸ªäººèµ„æ–™

### æ•™å¸ˆæƒé™

- å­¦ç”Ÿæ‰€æœ‰æƒé™
- å®¡æ ¸æ‰€æœ‰æ´»åŠ¨
- æŸ¥çœ‹æ‰€æœ‰ç”³è¯·
- å¯¼å‡ºæ‰€æœ‰ç”³è¯·æ•°æ®
- ç®¡ç†å­¦ç”Ÿä¿¡æ¯
- æ‰¹é‡æ“ä½œæ´»åŠ¨
- å¯¼å…¥å¯¼å‡ºæ´»åŠ¨

### ç®¡ç†å‘˜æƒé™

- æ•™å¸ˆæ‰€æœ‰æƒé™
- åˆ é™¤æ´»åŠ¨
- ç®¡ç†æ•™å¸ˆä¿¡æ¯
- ç”¨æˆ·ç®¡ç†
- ç³»ç»Ÿé…ç½®
- å®Œæ•´çš„æ•°æ®ç»Ÿè®¡

## å¼€å‘æŒ‡å—

### æ·»åŠ æ–°é¡µé¢

1. åœ¨ `src/pages/` åˆ›å»ºæ–°ç»„ä»¶
2. åœ¨ `src/App.tsx` æ·»åŠ è·¯ç”±
3. åœ¨ `src/components/Layout.tsx` æ·»åŠ å¯¼èˆªé¡¹

### æ·»åŠ æ–°ç»„ä»¶

1. åœ¨ `src/components/` åˆ›å»ºç»„ä»¶
2. ä½¿ç”¨ TypeScript å®šä¹‰æ¥å£
3. æ·»åŠ å¿…è¦çš„æ ·å¼

### API è°ƒç”¨

ä½¿ç”¨ `src/lib/api.ts` ä¸­çš„ `apiClient`ï¼š

```typescript
import apiClient from "@/lib/api";

// GETè¯·æ±‚
const response = await apiClient.get("/endpoint");

// POSTè¯·æ±‚
const response = await apiClient.post("/endpoint", data);

// PUTè¯·æ±‚
const response = await apiClient.put("/endpoint", data);

// DELETEè¯·æ±‚
const response = await apiClient.delete("/endpoint");
```

### è¡¨å•å¤„ç†

ä½¿ç”¨ React Hook Form + Zodï¼š

```typescript
import { useForm } from "react-hook-form";
import { zodResolver } from "@hookform/resolvers/zod";
import * as z from "zod";

const schema = z.object({
  name: z.string().min(1, "åç§°ä¸èƒ½ä¸ºç©º"),
  email: z.string().email("é‚®ç®±æ ¼å¼ä¸æ­£ç¡®"),
});

const form = useForm({
  resolver: zodResolver(schema),
  defaultValues: { name: "", email: "" },
});
```

## éƒ¨ç½²

### Docker éƒ¨ç½²

```bash
# æ„å»ºé•œåƒ
docker build -t credit-management-frontend .

# è¿è¡Œå®¹å™¨
docker run -p 3000:3000 credit-management-frontend
```

### é™æ€éƒ¨ç½²

```bash
# æ„å»º
pnpm build

# éƒ¨ç½²åˆ°Nginx
cp -r dist/* /var/www/html/
```

## æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **API è¿æ¥å¤±è´¥**

   - æ£€æŸ¥åç«¯æœåŠ¡æ˜¯å¦è¿è¡Œ
   - ç¡®è®¤ API ç½‘å…³é…ç½®
   - æ£€æŸ¥ç½‘ç»œè¿æ¥

2. **æƒé™é—®é¢˜**

   - ç¡®è®¤ç”¨æˆ·è§’è‰²è®¾ç½®
   - æ£€æŸ¥æƒé™é…ç½®
   - é‡æ–°ç™»å½•

3. **æ–‡ä»¶ä¸Šä¼ å¤±è´¥**
   - æ£€æŸ¥æ–‡ä»¶å¤§å°é™åˆ¶
   - ç¡®è®¤æ–‡ä»¶æ ¼å¼æ”¯æŒ
   - æ£€æŸ¥å­˜å‚¨ç©ºé—´

### è°ƒè¯•æ¨¡å¼

```bash
# å¼€å¯è¯¦ç»†æ—¥å¿—
DEBUG=* pnpm dev
```

## è´¡çŒ®æŒ‡å—

1. Fork é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯
3. æäº¤æ›´æ”¹
4. åˆ›å»º Pull Request
